cmake_minimum_required(VERSION 3.10)  # Минимальная версия CMake
project(Language_cpp)                   # Название проекта
add_executable(assistantcpp assistantcpp.cpp)        # Создаем исполняемый файл
set(CMAKE_CXX_STANDART 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Werror -Wextra -std=c++17")

add_custom_target( # Добавляем цель `run`, которая запускает программу после сборки:
    run
    COMMAND ./assistantcpp
    WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
    DEPENDS assistantcpp
    COMMENT "Запуск assistantcpp..."
)

add_custom_command( # Запускать программу автоматически при каждом make:
    TARGET assistantcpp POST_BUILD
    COMMAND ./assistantcpp
    WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
    COMMENT "Запуск assistantcpp..."
)